# Copilot 协作指令（代码 + 论文）

本文件用于约束本仓库内的协作方式，目标是让输出“可直接执行 / 可验证 / 不跑题”。

## 适用范围与默认原则

- 本仓库常见任务分两类：
  - **代码协作**：实现、修改、修复、重构、补测试、排错。
  - **论文写作**：课程论文结构与内容生成，输出便于转 PDF。
- 若用户请求不清晰或不属于以上两类：先用 1–3 个问题澄清再行动。
- 任何时候都遵守：**最小必要改动、明确假设、可验证交付**。

---

## 一、代码协作协议

### 1) 目标

- 交付能运行、可维护、与需求一致的改动。
- 优先解决“根因”，不做与需求无关的顺手改动。

### 2) 理解优先工作流（强约束）

当用户提出“需要修改/新增代码”的请求时：

1. **先复述理解**：用 2–5 句话说明你理解的目标、范围、验收口径。
2. **检查关键信息**：
   - 如果缺少信息会导致实现方向可能错误：提出最多 3 个问题，并等待回复。
   - 如果信息缺失但可以安全默认：明确写出默认假设，并继续执行。
3. **给出可执行计划**：多步骤任务拆成 3–6 步；能验证的步骤写明验证方式。
4. **再动手改代码**：小步修改，保持仓库风格；避免无关格式化与大范围重命名。
5. **做最小验证**：能跑测试就跑相关测试；不能跑就说明原因与替代验证方式。

### 3) 质量标准（必须）

- **可读性第一**：清晰胜过巧妙；命名与边界要直观。
- **注释与文档**：写“为什么这么做”，而不是复述代码。
- **错误处理**：任何可能失败的操作都要有明确失败路径与错误信息。
- **模块化**：单一职责、易于测试、避免隐式副作用。
- **交付可验证**：改动配套更新测试/示例/文档（以仓库既有实践为准）。

### 4) 沟通模板（可直接复用）

**代码任务确认模板**（优先使用）：

1) 目标：你希望最终看到什么行为/输出？
2) 范围：哪些文件/模块允许改？哪些绝对不能动？
3) 约束：语言/框架/版本/性能/兼容性/截止时间？
4) 验收：你怎么判断“完成了”？有无示例输入输出或失败案例？

**示例（深度学习类需求）**：

用户：“实现一个卷积神经网络。”

你应先问：

1. 使用什么框架（PyTorch / TensorFlow / JAX）？
2. 任务类型（图像分类 / 检测 / 分割）与数据形状？
3. 是否需要指定结构风格（ResNet / VGG 等）与是否用预训练？

---

## 二、论文写作协议

### 1) 项目概述

这是一个由学生维护的课程论文写作项目。目标是按题目要求完成论文结构、内容与格式，输出便于直接转为 PDF。

### 2) 核心原则（论文）

1. **紧扣选题方向，避免偏题**
  - 先确定：选题方向、研究对象、研究问题（1 句话）。
  - 每一节都要回答同一个研究问题；不写与研究问题无关的背景。
  - 任何“扩展讨论”都必须说明用途（为论证提供证据 / 对比 / 边界条件）。

2. **严格满足硬性要求**
  - 字数必须在要求范围内；先分配章节字数预算。
  - 必须包含：中英文题目、中英文摘要、关键词、引言、正文、参考文献。
  - 参考文献格式按要求执行；文内引用与文末条目必须一一对应。若未指定标准，先询问采用哪种（默认建议 GB/T 7714-2015）。
  - 文献来源必须可靠、可追溯：优先正式出版物、学术期刊、政府/研究机构报告、标准文件、企业正式公开披露材料。

3. **兼顾易读性与学术性**
  - 用常见词；每个句子要有主语。
  - 不写长难句，不堆术语。
  - 论证必须有“证据”（文献观点/数据/案例事实）；写清来源。
  - 不写空话；每段都要有信息密度。

### 3) 写作风格规范（必须）

- 风格介于书面学术写作与口语描述之间。
- 句子长度自然：避免长难句，也不要为了“短”而刻意切碎。
- 连接词只用常用词：因为、所以、但是、同时、另外、然后。
- 替换生僻词与不常用表达，优先用日常词。
- 删除“文末总结式段落”：不在末尾再写一段泛泛总结。

### 4) 论文工作流（建议）

1) 先写大纲：对应评分点与结构要求。
2) 再写引言：只写背景、问题、意义、范围（不扩写无关历史）。
3) 再写正文主体：每节按“观点 → 证据 → 解释 → 小结一句”推进。
4) 最后补摘要与关键词：摘要要能独立读懂全文。
5) 最后做一致性检查：字数、引用、题目/摘要/关键词对应。

### 5) 结构模板（可复制）

- 题目（中文≤20字）+ 作者信息
- 摘要 / Abstract
- 关键词 / Keywords
- 引言
- 理论基础与文献综述（按需要）
- 研究问题与分析框架
- 研究方法与数据来源
- 分析与论证（篇幅重点）
- 对策与建议（如题目需要）
- 参考文献（按指定标准）

### 6) 字数控制（必须）

- 建议先分配字数预算（示例，可按要求调整）：
  - 引言：10%–15%
  - 文献与理论：15%–25%
  - 方法与数据：10%–15%
  - 分析与论证：35%–45%
  - 对策与建议：10%–15%
  - 结论：按要求写；若不要求单列，可并入上一节末尾用短段落说明。

### 7) 常见错误预防

- 跑题：写完一节就自检一句“这节在回答研究问题吗？”
- 空泛：避免“很重要、很显著、很有意义”；要写清“对谁、在哪、影响什么指标”。
- 证据缺失：每个核心观点至少配 1 条文献/数据/案例事实。
- 引用不一致：文内出现过的，文末必须有；文末有的，文内必须用过。
- 格式遗漏：中英文题目、摘要、关键词、参考文献不可缺。

### 8) 输出要求（面向生成）

当用户要求“生成论文内容”时，必须先确认：

1) 选题方向（3 选 1）
2) 研究对象与场景
3) 研究方法与材料来源
4) 目标字数与章节字数预算

确认后再输出正文内容，并按大纲分节给出。
